# üåê –°–æ—Ü—ñ–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞ "World IT" <a id="top"></a>

**World IT** ‚Äî —Ü–µ –∞–º–±—ñ—Ç–Ω–∏–π –ø—Ä–æ–µ–∫—Ç, —Å–ø—Ä—è–º–æ–≤–∞–Ω–∏–π –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ—ó —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—ó —Å–æ—Ü—ñ–∞–ª—å–Ω–æ—ó –º–µ—Ä–µ–∂—ñ. –ù–∞—à–∞ –º–µ—Ç–∞ ‚Äî —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–ª—é—á–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Å—É—á–∞—Å–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è, –æ–±–º—ñ–Ω –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —Ç–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –Ω–æ–≤–∏—Ö –¥—Ä—É–∑—ñ–≤. –ü—Ä–æ–µ–∫—Ç —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–æ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å—É—á–∞—Å–Ω–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π —Ç–∞ –º–æ–¥—É–ª—å–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –≥–Ω—É—á–∫—ñ—Å—Ç—å —ñ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å.

## üìë –ó–º—ñ—Å—Ç

- [–ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ](#key-features)
- [–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π](#tech-stack)
  - [Backend](#backend)
  - [Frontend](#frontend)
  - [–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏](#dev-tools)
- [–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É –ª–æ–∫–∞–ª—å–Ω–æ](#local-setup)
- [–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É](#architecture)
  - [–û—Å–Ω–æ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö](#data-models)
- [–î–∏–∑–∞–π–Ω —Ç–∞ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è](#design)
- [–ö–æ–º–∞–Ω–¥–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤](#team)
- [–ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É](#code-examples)
  - [–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞](#registration)
  - [–ú–æ–¥–µ–ª—å –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–¥—É –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è](#reg-code-model)
  - [–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤](#posts)
  - [–ú–æ–¥–µ–ª—ñ –¥–ª—è –ø–æ—Å—Ç—ñ–≤](#post-models)
  - [–ß–∞—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ](#chats)
  - [Frontend-–ª–æ–≥—ñ–∫–∞ —á–∞—Ç—ñ–≤](#chat-frontend)
  - [–ú–æ–¥–µ–ª—ñ –¥–ª—è —á–∞—Ç—ñ–≤](#chat-models)
  - [–ú–æ–¥–µ–ª—ñ –ø—Ä–æ—Ñ—ñ–ª—é —Ç–∞ –¥—Ä—É–∑—ñ–≤](#profile-models)
  - [–§–æ—Ä–º–∏ –¥–æ–¥–∞—Ç–∫—É (Django Forms)](#app-forms)
  - [–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —á–∞—Ç—É (JavaScript)](#chat-ui-js)
  - [–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è WebSocket](#ws-routing)
- [–í–∏—Å–Ω–æ–≤–æ–∫](#conclusion)

## ‚ú® –ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ <a id="key-features"></a>

- ‚úÖ **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è:** –ë–µ–∑–ø–µ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç—ñ–≤ —ñ–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º —á–µ—Ä–µ–∑ email —Ç–∞ –≤—Ö–æ–¥—É.
- üë§ **–ü—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:** –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä—ñ–≤, —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Å–µ–±–µ —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.
- üìù **–°—Ç—Ä—ñ—á–∫–∞ –Ω–æ–≤–∏–Ω —Ç–∞ –ø–æ—Å—Ç–∏:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –ø–µ—Ä–µ–≥–ª—è–¥, –ª–∞–π–∫–∏, –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –ø–æ—Å–∏–ª–∞–Ω–Ω—è).
- üí¨ **–ú–µ—Å–µ–Ω–¥–∂–µ—Ä —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ:** –ü—Ä–∏–≤–∞—Ç–Ω—ñ —Ç–∞ –≥—Ä—É–ø–æ–≤—ñ —á–∞—Ç–∏ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é WebSocket, –≤–∫–ª—é—á–∞—é—á–∏ –≤—ñ–¥–ø—Ä–∞–≤–∫—É —Ç–µ–∫—Å—Ç—É —Ç–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å.
- üë• **–°–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∑—ñ–≤:** –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥—Ä—É–∑—ñ–≤, –ø–µ—Ä–µ–≥–ª—è–¥ —ó—Ö —Å–ø–∏—Å–∫—ñ–≤ —ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–æ—Ü—ñ–∞–ª—å–Ω–∏–º–∏ –∑–≤‚Äô—è–∑–∫–∞–º–∏.

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π <a id="tech-stack"></a>

–ü—Ä–æ–µ–∫—Ç –ø–æ–±—É–¥–æ–≤–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å—É—á–∞—Å–Ω–æ–≥–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–æ–≥–æ —Å—Ç–µ–∫—É, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —ñ –∑—Ä—É—á–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä–æ–±–∫–∏.

### Backend <a id="backend"></a>
- **üêç Python**: –û—Å–Ω–æ–≤–Ω–∞ –º–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ—ó –ª–æ–≥—ñ–∫–∏.
- **üöÄ Django**: –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —à–≤–∏–¥–∫–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç–æ–º.
- **üï∏Ô∏è Django Channels (WebSocket)**: –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —á–∞—Ç—ñ–≤ —ñ —Å–ø–æ–≤—ñ—â–µ–Ω—å —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.
- **üóÉÔ∏è SQLite**: –õ–µ–≥–∫–æ–≤–∞–≥–æ–≤–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ PostgreSQL —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ).
- **üìß Django Email**: –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ª–∏—Å—Ç—ñ–≤ –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ —ñ–Ω—à–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å.

### Frontend <a id="frontend"></a>
- **üåê HTML**: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–æ–∫.
- **üé® CSS**: –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∑ –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–º –¥–∏–∑–∞–π–Ω–æ–º.
- **üíª JavaScript**: –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —ñ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç.
- **‚ö°Ô∏è AJAX**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏ –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫.
- **üìö jQuery**: –°–ø—Ä–æ—â–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –∑ DOM —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –ø–æ–¥—ñ–π.

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏ <a id="dev-tools"></a>
- **Git**: –ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å—ñ–π –∫–æ–¥—É.
- **Figma/FigJam**: –ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –¥–∏–∑–∞–π–Ω—É —Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏.

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É –ª–æ–∫–∞–ª—å–Ω–æ <a id="local-setup"></a>

–©–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ—î–∫—Ç –Ω–∞ —Å–≤–æ—î–º—É –∫–æ–º–ø‚Äô—é—Ç–µ—Ä—ñ, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
   ```bash
   git clone https://github.com/ArtemVlasov2009/Messenger
   ```

2. **–ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –ø—Ä–æ—î–∫—Ç—É:**
   ```bash
   cd Messenger
   ```

3. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞ –∞–∫—Ç–∏–≤—É–π—Ç–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:**
   - –î–ª—è Windows:
     ```bash
     python -m venv venv
     venv\Scripts\activate
     ```
   - –î–ª—è macOS/Linux:
     ```bash
     python3 -m venv venv
     source venv/bin/activate
     ```

4. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
   ```bash
   pip install -r requirements.txt
   ```
5. **–ó–∞—Å—Ç–æ—Å—É–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:**
   ```bash
   python manage.py migrate
   ```

6. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏:**
   ```bash
   python manage.py runserver
   ```

7. **–ì–æ—Ç–æ–≤–æ! üéâ** –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä —ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –∞–¥—Ä–µ—Å–æ—é: [http://127.0.0.1:8000/](http://127.0.0.1:8000/).

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É <a id="architecture"></a>

–ü—Ä–æ—î–∫—Ç –º–∞—î –º–æ–¥—É–ª—å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —â–æ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –∫—ñ–ª—å–∫–æ—Ö Django-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ –¥–ª—è —á—ñ—Ç–∫–æ–≥–æ –ø–æ–¥—ñ–ª—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É:

- **`Messenger`**: –û—Å–Ω–æ–≤–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—é —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.
- **`Messenger_App`**: –õ–æ–≥—ñ–∫–∞ –º–µ—Å–µ–Ω–¥–∂–µ—Ä–∞, –≤–∫–ª—é—á–∞—é—á–∏ —á–∞—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ —á–µ—Ä–µ–∑ WebSocket.
- **`Posts_app`**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ—Å—Ç–∞–º–∏, –≤–∫–ª—é—á–∞—é—á–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –ª–∞–π–∫–∏ —Ç–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ.
- **`Registration_app`**: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è email —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è.

### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö <a id="data-models"></a>
- **User/Profile**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ —Ç–∞ —ó—Ö –ø—Ä–æ—Ñ—ñ–ª—è–º–∏.
- **Post/Link/Tag**: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤ —ñ–∑ —Ç–µ–≥–∞–º–∏ —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏.
- **ChatGroup/ChatMessage**: –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –≥—Ä—É–ø–æ–≤–∏—Ö —ñ –æ—Å–æ–±–∏—Å—Ç–∏—Ö —á–∞—Ç—ñ–≤ —ñ–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏.
- **Send_Reg_Code**: –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–æ–¥—ñ–≤ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.

## üé® –î–∏–∑–∞–π–Ω —Ç–∞ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è <a id="design"></a>

- **[–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (FigJam)](https://www.figma.com/board/bycCpq8bEEEHIMJLJyHarF/Untitled?node-id=0-1&t=tGh7GTL6TOhXgk7b-1)**: –°—Ö–µ–º–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —Ç–∞ –ª–æ–≥—ñ–∫–∏ –ø—Ä–æ—î–∫—Ç—É.
- **[–î–∏–∑–∞–π–Ω (Figma)](https://www.figma.com/design/20TZphWNufeAQYOe7E1sze/%D0%A1%D0%BE%D1%86%D1%96%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0-%D0%BC%D0%B5%D1%80%D0%B5%D0%B6%D0%B0-World-IT?node-id=6-26&t=6FcZEGOAfhm7mSQr-1)**: –ú–∞–∫–µ—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∑ –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–º –¥–∏–∑–∞–π–Ω–æ–º –¥–ª—è –≤—Å—ñ—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤.

## üë®‚Äçüíª –ö–æ–º–∞–Ω–¥–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ <a id="team"></a>

- **–í–ª–∞—Å–æ–≤ –ê—Ä—Ç–µ–º** ‚Äî –¢—ñ–º–ª—ñ–¥([GitHub](https://github.com/ArtemVlasov2009/Messenger)).
- **–¢–∫–∞—á –ë–æ–≥–¥–∞–Ω** ‚Äî ([GitHub](https://github.com/Bogdantkach12/Messenger_project)).
- **–Ü–≤–∞–Ω –Ñ–∂–æ–≤** ‚Äî ([GitHub](https://github.com/EzhovIvan)).

## üìñ –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É <a id="code-examples"></a>

### –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ <a id="registration"></a>

–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤–∫–ª—é—á–∞—î –≤—ñ–¥–ø—Ä–∞–≤–∫—É 6-–∑–Ω–∞—á–Ω–æ–≥–æ –∫–æ–¥—É –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –Ω–∞ email.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
from django.contrib.auth.views import LogoutView
from django.core.mail import send_mail
from django.conf import settings
from django.contrib import messages
from django.shortcuts import redirect, render
from django.views.generic.edit import FormView
from django.contrib.auth import login, authenticate
from django.urls import reverse_lazy
from django.contrib.auth import get_user_model
from .forms import RegistrationForm, CodeConfirmationForm, AuthorizationForm
from .models import Send_Reg_Code
import secrets
import string
from django.utils import timezone
import logging

logger = logging.getLogger(__name__)
User = get_user_model()

class RegistrationView(FormView):
    template_name = 'Registration_app/registration_authorization.html'
    form_class = RegistrationForm

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['form_name'] = self.form_class.__name__
        context['title'] = '–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è'
        context['subtitle'] = '–ü—Ä–∏—î–¥–Ω—É–π—Å—è –¥–æ World IT'
        context['view_type'] = 'registration'
        return context

    def form_valid(self, form):
        email = form.cleaned_data['email']
        password = form.cleaned_data['password']
        code = ''.join(secrets.choice(string.digits) for _ in range(6))

        self.request.session['registration_email'] = email
        self.request.session['registration_password'] = password
        self.request.session['verification_code'] = code

        Send_Reg_Code.objects.update_or_create(
            email=email,
            defaults={
                'code': code,
                'expires_at': timezone.now() + timezone.timedelta(minutes=15)
            }
        )

        try:
            subject = '‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å —Å–≤–æ—é –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É –∞–¥—Ä–µ—Å—É –¥–ª—è World IT Messenger!'
            message_body = f"""
–í—ñ—Ç–∞—î–º–æ —É World IT Messenger! üëã

–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∞—à–æ—ó –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –∞–¥—Ä–µ—Å–∏:

{code}

–í–≤–µ–¥—ñ—Ç—å —Ü–µ–π –∫–æ–¥ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è, —â–æ–± –∑–∞–≤–µ—Ä—à–∏—Ç–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é. –ö–æ–¥ –¥—ñ–π—Å–Ω–∏–π 15 —Ö–≤–∏–ª–∏–Ω.

–î—è–∫—É—î–º–æ –∑–∞ –ø—Ä–∏—î–¥–Ω–∞–Ω–Ω—è!
–ö–æ–º–∞–Ω–¥–∞ World IT Messenger üöÄ
"""
            send_mail(
                subject=subject,
                message=message_body,
                from_email=settings.EMAIL_HOST_USER,
                recipient_list=[email],
                fail_silently=False
            )
            messages.success(self.request, '–ö–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –≤–∞—à—É –ø–æ—à—Ç—É.')
            logger.info(f"Verification code sent to {email}")
            return redirect('confirm_code')
        except Exception as e:
            logger.error(f"Error sending email to {email}: {e}")
            messages.error(self.request, '–í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—ñ –∫–æ–¥—É. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∞–±–æ –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.')
            self._cleanup_session()
            return self.form_invalid(form)

    def form_invalid(self, form):
        logger.warning(f"Invalid registration form: {form.errors}")
        self._cleanup_session()
        context = self.get_context_data(form=form)
        return self.render_to_response(context)

    def _cleanup_session(self):
        session_keys = ['registration_email', 'registration_password', 'verification_code']
        for key in session_keys:
            self.request.session.pop(key, None)
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **–ö–ª–∞—Å `RegistrationView`**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Django `FormView` –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ñ–æ—Ä–º–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.
- **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–æ–¥—É**: –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è 6-–∑–Ω–∞—á–Ω–∏–π –∫–æ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `secrets` –¥–ª—è –±–µ–∑–ø–µ–∫–∏.
- **–°–µ—Å—ñ—è**: Email, –ø–∞—Ä–æ–ª—å —ñ –∫–æ–¥ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Å–µ—Å—ñ—ó –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.
- **–í—ñ–¥–ø—Ä–∞–≤–∫–∞ email**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `send_mail` –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∫–æ–¥—É –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `logging` –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ–¥—ñ–π —ñ –ø–æ–º–∏–ª–æ–∫.
- **–û—á–∏—â–µ–Ω–Ω—è —Å–µ—Å—ñ—ó**: –ú–µ—Ç–æ–¥ `_cleanup_session` –≤–∏–¥–∞–ª—è—î —Ç–∏–º—á–∞—Å–æ–≤—ñ –¥–∞–Ω—ñ –≤ —Ä–∞–∑—ñ –ø–æ–º–∏–ª–∫–∏.

</details>

### –ú–æ–¥–µ–ª—å –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–¥—É –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è <a id="reg-code-model"></a>

–ó–±–µ—Ä—ñ–≥–∞—î –∫–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
from django.db import models
from django.utils import timezone
from datetime import timedelta

class Send_Reg_Code(models.Model):
    email = models.EmailField(unique=True)
    code = models.CharField(max_length=6)
    expires_at = models.DateTimeField(default=timezone.now() + timedelta(minutes=15))
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **–ü–æ–ª–µ `email`**: –£–Ω—ñ–∫–∞–ª—å–Ω–µ –ø–æ–ª–µ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∞–¥—Ä–µ—Å–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
- **–ü–æ–ª–µ `code`**: –ó–±–µ—Ä—ñ–≥–∞—î 6-–∑–Ω–∞—á–Ω–∏–π –∫–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.
- **–ü–æ–ª–µ `expires_at`**: –í–∫–∞–∑—É—î —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó –∫–æ–¥—É (15 —Ö–≤–∏–ª–∏–Ω).
- **–ú–æ–¥–µ–ª—å**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–æ–¥—É –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö.

</details>

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤ <a id="posts"></a>

–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–µ–∫—Å—Ç—É, –∑–æ–±—Ä–∞–∂–µ–Ω—å, –ø–æ—Å–∏–ª–∞–Ω—å —ñ —Ç–µ–≥—ñ–≤.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
from django.shortcuts import render, redirect, get_object_or_404
from django.views.generic import ListView
from django.contrib.auth.mixins import LoginRequiredMixin
from django.http import JsonResponse
from .models import Post, Link, Image
from .forms import PostForm
from Messenger_App.models import Profile
import logging

logger = logging.getLogger(__name__)

class PostsPageView(LoginRequiredMixin, ListView):
    model = Post
    template_name = 'Posts_app/Posts.html'
    context_object_name = 'user_posts'
    ordering = ['-id']

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['current_page'] = 'posts'
        context['form'] = context.get('form', PostForm())
        return context

    def post(self, request, *args, **kwargs):
        is_ajax = request.headers.get('X-Requested-With') == 'XMLHttpRequest'
        form = PostForm(request.POST, request.FILES)
        
        if form.is_valid():
            post = form.save(commit=False)
            post.author = get_object_or_404(Profile, user=request.user)
            post.save()
            form.save_m2m()
            uploaded_images = request.FILES.getlist('images_upload')
            for f in uploaded_images:
                image_instance = Image.objects.create(file=f, owner=post.author, filename=f.name)
                post.images.add(image_instance)
            
            article_link = form.cleaned_data.get('article_link')
            if article_link:
                Link.objects.create(url=article_link, post=post)

            for key, value in request.POST.items():
                if key.startswith('extra_link_') and value.strip():
                    Link.objects.create(url=value.strip(), post=post)

            if is_ajax:
                return JsonResponse({'status': 'success', 'message': '–ü–æ—Å—Ç —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ.'})
            return redirect('posts_page')
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **–ö–ª–∞—Å `PostsPageView`**: –ö–æ–º–±—ñ–Ω—É—î `ListView` –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤ —ñ –æ–±—Ä–æ–±–∫—É POST-–∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è —ó—Ö —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
- **–û–±—Ä–æ–±–∫–∞ —Ñ–∞–π–ª—ñ–≤**: –ü—ñ–¥—Ç—Ä–∏–º—É—î –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å —á–µ—Ä–µ–∑ `request.FILES`.
- **–ü–æ—Å–∏–ª–∞–Ω–Ω—è**: –î–æ–¥–∞—î –æ—Å–Ω–æ–≤–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (`article_link`) —Ç–∞ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (`extra_link_`).
- **AJAX**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤ —ñ–∑ JSON-–≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏.
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**: `LoginRequiredMixin` –∑–∞–±–µ–∑–ø–µ—á—É—î –¥–æ—Å—Ç—É–ø –ª–∏—à–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

</details>

### –ú–æ–¥–µ–ª—ñ –¥–ª—è –ø–æ—Å—Ç—ñ–≤ <a id="post-models"></a>

–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤, —Ç–µ–≥—ñ–≤ —ñ –ø–æ—Å–∏–ª–∞–Ω—å.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
class Post(models.Model):
    title = models.CharField(max_length=255)
    content = models.TextField()
    author = models.ForeignKey('Messenger_App.Profile', on_delete=models.CASCADE, related_name='posts_authored')
    created_at = models.DateTimeField(auto_now_add=True)
    tags = models.ManyToManyField(Tag, blank=True)
    images = models.ManyToManyField(Image, blank=True)
    
    def __str__(self):
        return self.title

class Link(models.Model):
    url = models.URLField()
    post = models.ForeignKey(Post, on_delete=models.CASCADE, related_name='links')
    
    def __str__(self):
        return self.url

class Tag(models.Model):
    name = models.CharField(max_length=50, unique=True)
    def __str__(self):
        return self.name
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **–ú–æ–¥–µ–ª—å `Post`**: –ó–±–µ—Ä—ñ–≥–∞—î –∑–∞–≥–æ–ª–æ–≤–æ–∫, –≤–º—ñ—Å—Ç, –∞–≤—Ç–æ—Ä–∞, —Ç–µ–≥–∏, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ –¥–∞—Ç—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
- **–ú–æ–¥–µ–ª—å `Link`**: –ó–±–µ—Ä—ñ–≥–∞—î URL-–ø–æ—Å–∏–ª–∞–Ω–Ω—è, –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –∑ –ø–æ—Å—Ç–æ–º.
- **–ú–æ–¥–µ–ª—å `Tag`**: –£–Ω—ñ–∫–∞–ª—å–Ω—ñ —Ç–µ–≥–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—ó –ø–æ—Å—Ç—ñ–≤.
- **–ó–≤‚Äô—è–∑–∫–∏**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è `ForeignKey` —ñ `ManyToManyField` –¥–ª—è –∑–≤‚Äô—è–∑–∫—ñ–≤ –º—ñ–∂ –º–æ–¥–µ–ª—è–º–∏.

</details>

### –ß–∞—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ <a id="chats"></a>

–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ WebSocket.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
import json
from channels.generic.websocket import AsyncWebsocketConsumer
from channels.db import database_sync_to_async
from .models import ChatGroup, ChatMessage, Profile

class ChatConsumer(AsyncWebsocketConsumer):
    async def connect(self):
        self.room_name = self.scope['url_route']['kwargs']['group_pk']
        self.room_group_name = f'chat_{self.room_name}'
        self.user = self.scope['user']

        if not self.user.is_authenticated:
            await self.close()
            return

        self.chat_group = await self.get_group_if_member(self.user, self.room_name)
        if not self.chat_group:
            await self.close()
            return

        await self.channel_layer.group_add(
            self.room_group_name,
            self.channel_name
        )
        await self.accept()

    async def receive(self, text_data):
        text_data_json = json.loads(text_data)
        message_content = text_data_json.get('message', '')

        if not message_content.strip():
            return

        author_profile = await self.get_user_profile(self.user)
        if not author_profile:
            return

        avatar_url = await self.get_avatar_url(author_profile)
        message = await self.save_message_to_db(author_profile, self.chat_group, message_content)

        await self.channel_layer.group_send(
            self.room_group_name,
            {
                'type': 'chat_message',
                'message': message.content,
                'username': self.user.username,
                'author_first_name': self.user.first_name,
                'author_avatar_url': avatar_url,
                'sent_at': message.sent_at.isoformat(),
                'image_url': None,
                'is_personal': self.chat_group.is_personal_chat
            }
        )
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **–ö–ª–∞—Å `ChatConsumer`**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `AsyncWebsocketConsumer` –¥–ª—è –æ–±—Ä–æ–±–∫–∏ WebSocket-–∑‚Äô—î–¥–Ω–∞–Ω—å.
- **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è**: –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π —ñ —î —á–ª–µ–Ω–æ–º —á–∞—Ç—É.
- **–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è**: –ó–±–µ—Ä—ñ–≥–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –±–∞–∑—ñ —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—î —ó—Ö —É—Å—ñ–º —É—á–∞—Å–Ω–∏–∫–∞–º —á–∞—Ç—É —á–µ—Ä–µ–∑ `group_send`.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `database_sync_to_async` –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.

</details>

### Frontend-–ª–æ–≥—ñ–∫–∞ —á–∞—Ç—ñ–≤ <a id="chat-frontend"></a>

–û–±—Ä–æ–±–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –Ω–∞ –∫–ª—ñ—î–Ω—Ç—Å—å–∫—ñ–π —Å—Ç–æ—Ä–æ–Ω—ñ.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```javascript
const webSocket = new WebSocket(`ws://${window.location.host}/ws/chat/${groupPk}/`);
webSocket.onmessage = function(event) {
    const data = JSON.parse(event.data);
    if (data.type !== 'chat') return;
    const isSentByMe = data.username === currentUsername;
    const messageClass = isSentByMe ? 'sent' : 'received';
    let messageContentHtml = '';
    if (data.message) { messageContentHtml += `${data.message.replace(/\n/g, '<br>')}`; }
    if (data.image_url) { messageContentHtml += `<a href="${data.image_url}" target="_blank"><img src="${data.image_url}" alt="Attached image"></a>`; }
    let authorHtml = '';
    if (!isSentByMe && document.querySelector('.message-author')) { authorHtml = `<div class="message-author">${data.username}</div>`; }
    const messageDiv = document.createElement('div');
    messageDiv.classList.add('message', messageClass);
    messageDiv.innerHTML = `<div class="message-body"><div class="message-content">${messageContentHtml}</div><span class="message-time">${formatTime(data.sent_at)}</span></div>`;
    messagesContainer.appendChild(messageDiv);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
};
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **WebSocket**: –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –∑‚Äô—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.
- **–û–±—Ä–æ–±–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å**: –î–æ–¥–∞—î –æ—Ç—Ä–∏–º–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ DOM —ñ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º–∏ —Å—Ç–∏–ª—è–º–∏ (`sent` –∞–±–æ `received`).
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å**: –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –≤–∫–ª–∞–¥–µ–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —è–∫ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º –ø–µ—Ä–µ–≥–ª—è–¥–æ–º.
- **–ê–≤—Ç–æ—Å–∫—Ä–æ–ª**: –ü—Ä–æ–∫—Ä—É—á—É—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –¥–æ–Ω–∏–∑—É –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

</details>

### –ú–æ–¥–µ–ª—ñ –¥–ª—è —á–∞—Ç—ñ–≤ <a id="chat-models"></a>

–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≥—Ä—É–ø–æ–≤–∏—Ö —ñ –æ—Å–æ–±–∏—Å—Ç–∏—Ö —á–∞—Ç—ñ–≤.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
class ChatGroup(models.Model):
    name = models.CharField(max_length=255)
    members = models.ManyToManyField(Profile, blank=True)
    is_personal_chat = models.BooleanField(default=False)
    admin = models.ForeignKey(Profile, on_delete=models.CASCADE, related_name='administered_group', null=True)
    avatar = models.ImageField(upload_to='images/group_avatars', blank=True, null=True)
    
    def __str__(self):
        return f'–ì—Ä—É–ø–∞ "{self.name}"'

class ChatMessage(models.Model):
    content = models.TextField(max_length=4096, blank=True)
    author = models.ForeignKey(Profile, on_delete=models.CASCADE)
    chat_group = models.ForeignKey(ChatGroup, on_delete=models.CASCADE)
    sent_at = models.DateTimeField(auto_now_add=True)
    attached_image = models.ImageField(upload_to='images/messages', blank=True, null=True)
    
    def __str__(self):
        return f'–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ {self.author}. –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ {self.sent_at}'
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **–ú–æ–¥–µ–ª—å `ChatGroup`**: –ó–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≥—Ä—É–ø—É, —ó—ó —É—á–∞—Å–Ω–∏–∫—ñ–≤, –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ç–∞ –∞–≤–∞—Ç–∞—Ä.
- **–ú–æ–¥–µ–ª—å `ChatMessage`**: –ó–±–µ—Ä—ñ–≥–∞—î —Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞–≤—Ç–æ—Ä–∞, –≥—Ä—É–ø—É, –¥–∞—Ç—É –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ç–∞ –≤–∫–ª–∞–¥–µ–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.
- **–ü–æ–ª—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è `ManyToManyField` –¥–ª—è —É—á–∞—Å–Ω–∏–∫—ñ–≤ —ñ `ImageField` –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å.
- **–õ–æ–≥—ñ–∫–∞**: –ü—ñ–¥—Ç—Ä–∏–º—É—î —è–∫ –æ—Å–æ–±–∏—Å—Ç—ñ, —Ç–∞–∫ —ñ –≥—Ä—É–ø–æ–≤—ñ —á–∞—Ç–∏ —á–µ—Ä–µ–∑ –ø–æ–ª–µ `is_personal_chat`.

</details>

### –ú–æ–¥–µ–ª—ñ –ø—Ä–æ—Ñ—ñ–ª—é —Ç–∞ –¥—Ä—É–∑—ñ–≤ <a id="profile-models"></a>
–¶—ñ –º–æ–¥–µ–ª—ñ —Ä–æ–∑—à–∏—Ä—é—é—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É –º–æ–¥–µ–ª—å `User` —ñ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —Å–∏—Å—Ç–µ–º—É –¥—Ä—É–∂–±–∏.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
from django.db import models
from django.contrib.auth import get_user_model
from django.db.models.signals import post_save
from django.dispatch import receiver
from django.templatetags.static import static 

User = get_user_model()

class Profile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE, related_name='profile')
    date_of_birth = models.DateField(null=True, blank=True)
    signature = models.ImageField(upload_to='images/signatures', blank=True, null=True)
    
    def get_avatar_url(self):
        active_avatar_instance = self.avatar_set.filter(active=True).first()
        if active_avatar_instance and active_avatar_instance.image and active_avatar_instance.image.file:
            return active_avatar_instance.image.file.url
        return static('images/avatar.png')

    def __str__(self):
        return self.user.username

class Avatar(models.Model):
    image = models.OneToOneField('Posts_app.Image', on_delete=models.CASCADE, related_name='avatar')
    profile = models.ForeignKey(Profile, on_delete=models.CASCADE)
    active = models.BooleanField(default=True)

class Friendship(models.Model):
    profile1 = models.ForeignKey(Profile, on_delete=models.CASCADE, related_name='friendship_sent_request')
    profile2 = models.ForeignKey(Profile, on_delete=models.CASCADE, related_name='friendship_accepted_request')
    accepted = models.BooleanField(default=False)

@receiver(post_save, sender=User)
def create_user_profile(sender, instance, created, **kwargs):
    if created:
        Profile.objects.create(user=instance)

@receiver(post_save, sender=User)
def save_user_profile(sender, instance, **kwargs):
    if hasattr(instance, 'profile'):
        instance.profile.save()
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **–ú–æ–¥–µ–ª—å `Profile`**: –†–æ–∑—à–∏—Ä—é—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É –º–æ–¥–µ–ª—å `User` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `OneToOneField`. –ó–±–µ—Ä—ñ–≥–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ, —è–∫-–æ—Ç –¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —Ç–∞ –ø—ñ–¥–ø–∏—Å. –ú–µ—Ç–æ–¥ `get_avatar_url` –ø–æ–≤–µ—Ä—Ç–∞—î URL –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞ –∞–±–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.
- **–ú–æ–¥–µ–ª—å `Avatar`**: –ü–æ–≤'—è–∑—É—î –ø—Ä–æ—Ñ—ñ–ª—å (`Profile`) —ñ–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º (`Image`) —Ç–∞ –ø–æ–∑–Ω–∞—á–∞—î –π–æ–≥–æ —è–∫ –∞–∫—Ç–∏–≤–Ω–∏–π.
- **–ú–æ–¥–µ–ª—å `Friendship`**: –†–µ–∞–ª—ñ–∑—É—î —Å–∏—Å—Ç–µ–º—É –∑–∞–ø–∏—Ç—ñ–≤ —É –¥—Ä—É–∑—ñ. –ó–±–µ—Ä—ñ–≥–∞—î –∑–≤'—è–∑–æ–∫ –º—ñ–∂ –¥–≤–æ–º–∞ –ø—Ä–æ—Ñ—ñ–ª—è–º–∏ —Ç–∞ —Å—Ç–∞—Ç—É—Å (`accepted`), —â–æ –≤–∫–∞–∑—É—î, —á–∏ –ø—Ä–∏–π–Ω—è—Ç–æ –∑–∞–ø–∏—Ç.
- **–°–∏–≥–Ω–∞–ª–∏ `post_save`**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å `Profile` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ `User` (`create_user_profile`) —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –π–æ–≥–æ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ `User` (`save_user_profile`), –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö.

</details>

### –§–æ—Ä–º–∏ –¥–æ–¥–∞—Ç–∫—É (Django Forms) <a id="app-forms"></a>
–§–æ—Ä–º–∏ —î –∫–ª—é—á–æ–≤–∏–º –µ–ª–µ–º–µ–Ω—Ç–æ–º –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º, –≤—ñ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ø—Ä–æ—Ñ—ñ–ª—é.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
from django import forms
from django.contrib.auth.models import User
from .models import Profile, ChatMessage

class SettingsForm(forms.ModelForm):
    """–§–æ—Ä–º–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    first_name = forms.CharField(label="–Ü–º‚Äô—è", max_length=30, required=True)
    last_name = forms.CharField(label="–ü—Ä—ñ–∑–≤–∏—â–µ", max_length=30, required=True)
    email = forms.EmailField(label="–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞", required=True)
    date_of_birth = forms.DateField(label="–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è", widget=forms.DateInput(attrs={'type': 'date'}), required=False)
    password = forms.CharField(label="–ù–æ–≤–∏–π –ø–∞—Ä–æ–ª—å", widget=forms.PasswordInput, required=False)
    password_confirm = forms.CharField(label="–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å", widget=forms.PasswordInput, required=False)

    class Meta:
        model = User
        fields = ['first_name', 'last_name', 'email']

    def clean(self):
        cleaned_data = super().clean()
        password = cleaned_data.get('password')
        password_confirm = cleaned_data.get('password_confirm')

        if password and password_confirm:
            if password != password_confirm:
                self.add_error('password_confirm', '–ü–∞—Ä–æ–ª—ñ –Ω–µ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å.')
            if len(password) < 8:
                self.add_error('password', '–ü–∞—Ä–æ–ª—å –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ —â–æ–Ω–∞–π–º–µ–Ω—à–µ 8 —Å–∏–º–≤–æ–ª—ñ–≤.')
        elif password or password_confirm:
            self.add_error(None, '–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –æ–±–∏–¥–≤–∞ –ø–æ–ª—è –ø–∞—Ä–æ–ª—è.')
        return cleaned_data

class MessageForm(forms.ModelForm):
    """–§–æ—Ä–º–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ."""
    class Meta:
        model = ChatMessage
        fields = ['content', 'attached_image']
        labels = {
            'content': '–í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è',
            'attached_image': '–ü—Ä–∏–∫—Ä—ñ–ø–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è'
        }
        widgets = {
            'content': forms.Textarea(attrs={'rows': 3, 'placeholder': '–ù–∞–ø–∏—à—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...'}),
        }
```
**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **–ö–ª–∞—Å `SettingsForm`**: –¶–µ `ModelForm`, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –º–æ–¥–µ–ª—ñ `User`. –í—ñ–Ω –≤–∫–ª—é—á–∞—î –ø–æ–ª—è –¥–ª—è –∑–º—ñ–Ω–∏ —ñ–º–µ–Ω—ñ, –ø—Ä—ñ–∑–≤–∏—â–∞ —Ç–∞ email. –¢–∞–∫–æ–∂ –¥–æ–¥–∞–Ω–æ –ø–æ–ª—è –¥–ª—è –∑–º—ñ–Ω–∏ –ø–∞—Ä–æ–ª—è –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é –≤ –º–µ—Ç–æ–¥—ñ `clean()`, —è–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –ø–∞—Ä–æ–ª—ñ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å —ñ —á–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –≤–∏–º–æ–≥–∞–º –±–µ–∑–ø–µ–∫–∏.
- **–ö–ª–∞—Å `MessageForm`**: `ModelForm` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É —á–∞—Ç—ñ (`ChatMessage`). –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤—ñ–¥–∂–µ—Ç `Textarea` –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É —Ç–∞ –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–∏–∫—Ä—ñ–ø–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.

</details>

### –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —á–∞—Ç—É (JavaScript) <a id="chat-ui-js"></a>
JavaScript –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å–∫—Ä–æ–ª—ñ–Ω–≥—É —Ç–∞ –∑–º—ñ–Ω–∏ —Ä–æ–∑–º—ñ—Ä—É –ø–æ–ª—è –≤–≤–æ–¥—É.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```javascript
document.addEventListener('DOMContentLoaded', function() {
    const messagesDisplay = document.getElementById('messages-display');
    if (messagesDisplay) {
        messagesDisplay.scrollTop = messagesDisplay.scrollHeight;
    }

    const textarea = document.querySelector('.message-input-area .message-textarea');
    if (textarea) {
        textarea.addEventListener('input', function() {
            this.style.height = 'auto'; 
            this.style.height = (this.scrollHeight) + 'px'; 
        });
        textarea.style.height = (textarea.scrollHeight) + 'px';
    }

    if (textarea) {
        textarea.focus();
    }
});
```
**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **`DOMContentLoaded`**: –°–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–æ–≤–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∏.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—è**: –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ (`messages-display`) —ñ –ø—Ä–æ–∫—Ä—É—á—É—î –π–æ–≥–æ –¥–æ —Å–∞–º–æ–≥–æ –Ω–∏–∑—É, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–¥—Ä–∞–∑—É –±–∞—á–∏–≤ –æ—Å—Ç–∞–Ω–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
- **–î–∏–Ω–∞–º—ñ—á–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –ø–æ–ª—è –≤–≤–æ–¥—É**: –î–ª—è –µ–ª–µ–º–µ–Ω—Ç–∞ `textarea` –¥–æ–¥–∞—î—Ç—å—Å—è —Å–ª—É—Ö–∞—á –ø–æ–¥—ñ—ó `input`. –ü—Ä–∏ –≤–≤–µ–¥–µ–Ω–Ω—ñ —Ç–µ–∫—Å—Ç—É –≤–∏—Å–æ—Ç–∞ –ø–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –≤–º—ñ—Å—Ç—É, —â–æ —Ä–æ–±–∏—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—è –¥–æ–≤–≥–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑—Ä—É—á–Ω—ñ—à–∏–º.
- **–§–æ–∫—É—Å –Ω–∞ –ø–æ–ª—ñ –≤–≤–æ–¥—É**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª—ñ –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–≤—ñ –æ–¥—Ä–∞–∑—É –ø–æ—á–∞—Ç–∏ –¥—Ä—É–∫—É–≤–∞—Ç–∏.

</details>

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è WebSocket <a id="ws-routing"></a>
–î–ª—è —Ä–æ–±–æ—Ç–∏ —á–∞—Ç—ñ–≤ —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∏ –¥–ª—è WebSocket-–∑'—î–¥–Ω–∞–Ω—å.

<details>
<summary>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è</summary>

```python
from django.urls import path 
from .consumers import ChatConsumer

ws_urlpatterns = [
    path('ws/chat/<int:group_pk>/', ChatConsumer.as_asgi()),
]
```
**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- **`ws_urlpatterns`**: –¶–µ–π —Å–ø–∏—Å–æ–∫ –º—ñ—Å—Ç–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç–∏ –¥–ª—è WebSocket. –ô–æ–≥–æ –ø—ñ–¥–∫–ª—é—á–∞—é—Ç—å –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó ASGI-–¥–æ–¥–∞—Ç–∫—É.
- **`path('ws/chat/<int:group_pk>/', ...)`**: –í–∏–∑–Ω–∞—á–∞—î URL-—à–∞–±–ª–æ–Ω –¥–ª—è WebSocket-–∑'—î–¥–Ω–∞–Ω–Ω—è.
  - `ws/`: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø—Ä–µ—Ñ—ñ–∫—Å –¥–ª—è WebSocket.
  - `chat/`: –í–∫–∞–∑—É—î, —â–æ —Ü–µ –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —á–∞—Ç—É.
  - `<int:group_pk>/`: –î–∏–Ω–∞–º—ñ—á–Ω–∏–π —Å–µ–≥–º–µ–Ω—Ç, —â–æ –ø—Ä–∏–π–º–∞—î ID –≥—Ä—É–ø–∏ —á–∞—Ç—É. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ–¥–Ω–æ–º—É –∫–æ–Ω—Å—å—é–º–µ—Ä—É –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞—Ç–∏ –±–µ–∑–ª—ñ—á —á–∞—Ç—ñ–≤.
- **`ChatConsumer.as_asgi()`**: –í–∫–∞–∑—É—î, —â–æ –≤—Å—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑–∞ —Ü–∏–º –º–∞—Ä—à—Ä—É—Ç–æ–º –±—É–¥–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ –∫–ª–∞—Å `ChatConsumer`.

</details>

## üìù –í–∏—Å–Ω–æ–≤–æ–∫ <a id="conclusion"></a>

–†–æ–∑—Ä–æ–±–∫–∞ —Ü—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É —Å—Ç–∞–ª–∞ –≤–∞–∂–ª–∏–≤–∏–º –µ—Ç–∞–ø–æ–º —É –Ω–∞—à–æ–º—É –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–º—É –∑—Ä–æ—Å—Ç–∞–Ω–Ω—ñ. –ú–∏ –∑–¥–æ–±—É–ª–∏ —Ü—ñ–Ω–Ω–∏–π –¥–æ—Å–≤—ñ–¥ —É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Å–∫–ª–∞–¥–Ω–∏—Ö –≤–µ–±-–¥–æ–¥–∞—Ç–∫—ñ–≤ –∑ –Ω—É–ª—è, –æ–ø–∞–Ω—É–≤–∞–ª–∏ —Å—É—á–∞—Å–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó —Ç–∞ –Ω–∞–≤—á–∏–ª–∏—Å—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ –∫–æ–º–∞–Ω–¥—ñ. –ü—Ä–æ—î–∫—Ç –¥–æ–ø–æ–º—ñ–≥ –Ω–∞–º:

- –ü–æ–≥–ª–∏–±–∏—Ç–∏ –∑–Ω–∞–Ω–Ω—è **Django**, –≤–∫–ª—é—á–∞—é—á–∏ Django Channels –¥–ª—è WebSocket.
- –ü–æ–ª—ñ–ø—à–∏—Ç–∏ –Ω–∞–≤–∏—á–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑ **JavaScript**, **AJAX**, **HTML** —ñ **CSS**.
- –†–æ–∑–≤–∏–Ω—É—Ç–∏ –≤–º—ñ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ –º–æ–¥—É–ª—å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —Ç–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω.
- –ó—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ –ø—Ä–æ—î–∫—Ç–∏ —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó.

–¶—ñ –Ω–∞–≤–∏—á–∫–∏ —Å—Ç–∞–Ω—É—Ç—å –æ—Å–Ω–æ–≤–æ—é –¥–ª—è –Ω–∞—à–∏—Ö –º–∞–π–±—É—Ç–Ω—ñ—Ö –ø—Ä–æ—î–∫—Ç—ñ–≤, –∞–¥–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó —î –∑–∞—Ç—Ä–µ–±—É–≤–∞–Ω–∏–º–∏ –Ω–∞ —Ä–∏–Ω–∫—É IT.
